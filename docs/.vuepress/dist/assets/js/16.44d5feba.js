(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{179:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/videojs/video.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/videojs/video.js"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/surmon-china/vue-video-player",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/surmon-china/vue-video-player"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLVideoElement")]),t._v(" "),s("li",[t._v("https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video")]),t._v(" "),s("li",[t._v("https://chimee.org/docs/chimee_player_preface.html")])]),t._v(" "),s("p",[t._v("目前原生H5支持的媒体格式主要有MP4、OGG、WebM、M3U8等，但各大浏览器厂商之间对媒体格式的支持是不同的：")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),s("p",[t._v("调用示例：")]),t._v(" "),t._m(7),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),s("p",[t._v("input[type=file]使用的是onchange，onchange监听的为input的value值，只有在内容发生改变的时候去触发，而value在上传文件的时候保存的是文件的内容，只需要在上传成功的回调里面，将当前input的value值置空即可。")]),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._m(21),t._v(" "),s("p",[t._v("CanvasRenderingContext2D.fillStyle -- 图形内部的颜色和样式")]),t._v(" "),s("p",[t._v("CanvasRenderingContext2D.strokeStyle -- 图形边线的颜色和样式")]),t._v(" "),t._m(22),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/drawImage",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("CanvasRenderingContext2D.drawImage()")]),s("OutboundLink")],1),t._v(" -- 绘制指定的图片")]),t._v(" "),t._m(23),t._m(24),t._v(" "),s("p",[t._v("d -- destination s -- source")]),t._v(" "),s("p",[t._v("dx -- 目标画布的左上角在目标canvas上X轴的位置")]),t._v(" "),s("p",[t._v("dy -- 目标画布的左上角在目标canvas上Y轴的位置")]),t._v(" "),s("p",[t._v("dWidth -- 在目标画布上绘制图像的宽度")]),t._v(" "),s("p",[t._v("dHeight -- 在目标画布上绘制图像的高度")]),t._v(" "),s("p",[t._v("sx -- 需要绘制到目标上下文中的，源图像的矩形选择框的左上角X坐标")]),t._v(" "),s("p",[t._v("sy -- 需要绘制到目标上下文中的，源图像的矩形选择框的左上角Y坐标")]),t._v(" "),s("p",[t._v("sWidth -- 需要绘制到目标上下文中的，源图像的矩形选择框的宽度")]),t._v(" "),s("p",[t._v("sHeight -- 需要绘制到目标上下文中的，源图像的矩形选择框的高度")]),t._v(" "),t._m(25),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/createImageData",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("CanvasRenderingContext2D.createImageData()")]),s("OutboundLink")],1),t._v(" -- 使用指定的尺寸，创建一个新的ImageData对象。所有的像素在新的对象中都是透明的。")]),t._v(" "),t._m(26),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/getImageData",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("CanvasRenderingContext2D.getImageData()")]),s("OutboundLink")],1),t._v(" -- 返回一个ImageData对象，用来描述canvas区域隐含的像素数据，起始点为(sx, sy)、宽为sw、高为sh")]),t._v(" "),t._m(27),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/putImageData",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("CanvasRenderingContext2D.putImageData()")]),s("OutboundLink")],1),t._v(" -- 将数据从已有的ImageData绘制到位图上")]),t._v(" "),t._m(28),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31)])},[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{attrs:{id:"html5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html5","aria-hidden":"true"}},[this._v("#")]),this._v(" html5")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"video"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video","aria-hidden":"true"}},[this._v("#")]),this._v(" Video")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("table",[s("thead",[s("tr",[s("th",[t._v("浏览器")]),t._v(" "),s("th",[t._v("支持的视频格式")]),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td"),t._v(" "),s("td",[t._v("PC端")]),t._v(" "),s("td",[t._v("移动端")])]),t._v(" "),s("tr",[s("td",[t._v("Chrome")]),t._v(" "),s("td",[t._v("MP4,M3U8,FLV,RTMP协议")]),t._v(" "),s("td",[t._v("MP4,WebM,M3U8")])]),t._v(" "),s("tr",[s("td",[t._v("Firefox")]),t._v(" "),s("td",[t._v("MP4,M3U8,FLV,RTMP协议")]),t._v(" "),s("td",[t._v("MP4,WebM,M3U8")])]),t._v(" "),s("tr",[s("td",[t._v("Internet Explorer")]),t._v(" "),s("td",[t._v("MP4,M3U8,FLV,RTMP协议")]),t._v(" "),s("td",[t._v("MP4,M3U8")])])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("table",[s("thead",[s("tr",[s("th",[t._v("移动端平台")]),t._v(" "),s("th",[t._v("支持的视频格式")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Android")]),t._v(" "),s("td",[t._v("MP4,M3U8")])]),t._v(" "),s("tr",[s("td",[t._v("iOS")]),t._v(" "),s("td",[t._v("MP4,M3U8")])]),t._v(" "),s("tr",[s("td",[t._v("Safari")]),t._v(" "),s("td")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"audio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#audio","aria-hidden":"true"}},[this._v("#")]),this._v(" audio")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("可以运用"),a("audio",[this._v("和"),a("embed"),this._v("元素来实现浏览器兼容的网页声音调用及播放")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("embed标签定义外部（非HTML）内容的容器，如果浏览器不支持该文件格式，没有插件的话就无法播放该音频")]),this._v(" "),a("li",[this._v("audio元素为HTML5元素，在旧浏览器无作用")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("audio")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("controls")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("controls"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("source")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("alex-car-00010.ogg"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("audio/ogg"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("source")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("alex-car-00010.mp3"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("audio/mp3"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("embed")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("height")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("40"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("width")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("100"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("autostart")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("false"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("alex-car-00010.m4a.wav"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("audio")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"pcm文件与wav文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pcm文件与wav文件","aria-hidden":"true"}},[this._v("#")]),this._v(" PCM文件与WAV文件")])},function(){var t=this.$createElement,a=this._self._c||t;return a("blockquote",[a("p",[this._v("audio不支持.pcm文件播放")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ul",[s("li",[s("p",[t._v("PCM(Pulse Code Modulation，脉码编码调制)。PCM文件是模拟音频信号经模数转换(A/D变换)直接形成的二进制序列，没有附加文件头和文件结束标志。PCM的声音数据没有被压缩，如果是单声道的文件，采样数据按时间的先后顺序依次存入")]),t._v(" "),s("p",[t._v("但只有这些数字化的音频二进制序列并不能够播放。")])]),t._v(" "),s("li",[s("p",[t._v("WAVE(Waveform Audio File Format)，无损音频编码。WAV文件可以理解为PCM文件的wrapper，在查看PCM和WAV文件的hex文件，WAV文件只是在PCM文件的开头多了44bytes，来表征其声道数、采样频率和采样位数等信息。可以被基本所有的音频播放器播放，包括audio标签")]),t._v(" "),s("p",[t._v("WAV是一种声音文件格式，符合RIFF(Resource Interchange File Format)文件规范，用于保存音频信息资源。RIFF文件都在数据块前有文件头")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://reyshieh.com/assets/wav.png",alt:"wav"}})]),t._v(" "),s("ul",[s("li",[t._v("文件开头是RIFF头：0 4 数据块ID包含了“RIFF”在ASCII编码中的值（大端是0x52494646）；4 4 数据块大小 36 + subChunk2Size，即 4 + (8 + SubChunk1Size) + (8 + SubChunk2Size)，也即整个文件的大小减去ChunkID和ChunkSize所占8bytes；8 4 Format包含了字母“WAVE”（大端是0x57415645）。")]),t._v(" "),s("li",[t._v("“WAVE” format包含了2个子块：“fmt”和“data”")]),t._v(" "),s("li",[t._v("“fmt”子块描述了声音数据的格式：12 4 SubChunk1ID 包含了“fmt”（大端是0x666d7420）；16 4 SubChunk1Size是随后SubChunk的大小；20 2 AudioFormat；22 2 声道数，单声道是1，双声道是2；24 4 采样频率，一般有8000，44100等值；28 4 字节频率 = 采样频率 * 声道数 * 采样位数 / 8（ByteRate == SampleRate * NumChannels * BitsPerSample/8）；32 2 （BlockAlign == NumChannels * BitsPerSample/8 ）；34 2 采样位数，8对应8bits，16对应16bits")]),t._v(" "),s("li",[t._v("“data”子块包含音频数据大小和真实的声音数据：36 4 SubChunk2ID包含了字母“data”(大端格式下是0x64617461)‘；40 4 数据字节数(Subchunk2Size == NumSamples * NumChannels * BitsPerSample/8)；44 * 实际的声音数据")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"input重复上传同一文件问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#input重复上传同一文件问题","aria-hidden":"true"}},[this._v("#")]),this._v(" Input重复上传同一文件问题")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("event.target.value= '';\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"img-srcset-sizes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#img-srcset-sizes","aria-hidden":"true"}},[this._v("#")]),this._v(" Img srcset/sizes")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"appmanifest"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#appmanifest","aria-hidden":"true"}},[this._v("#")]),this._v(" appmanifest")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"canvas"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#canvas","aria-hidden":"true"}},[this._v("#")]),this._v(" Canvas")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"htmlcanvaselement"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#htmlcanvaselement","aria-hidden":"true"}},[this._v("#")]),this._v(" HTMLCanvasElement")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ul",[s("li",[s("p",[t._v("属性")]),t._v(" "),s("p",[t._v("height")]),t._v(" "),s("p",[t._v("width")])]),t._v(" "),s("li",[s("p",[t._v("方法")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v('// 其中contextId可接受的参数有"2d"和"experimental-webgl"')]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// getContext('2d')返回CanvasRenderingContext2D对象")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// getContext('experienmal-webgl')返回WebGLRenderingContext对象")]),t._v("\n"),s("span",{attrs:{class:"token function"}},[t._v("getContext")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("contextId"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 返回一个data:URL,根据type参数指定的类型将包含在canvas中的图片文件编码成字符串形式，type默认为image/png")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v('// 如果canvas的宽度或长度为0，返回字符串"data:,"')]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// Chorme支持image/webp类型")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// type值为image/jpeg或image/webp，则第二个参数的值在0.0和1.0之间的话，会被看做是图片质量参数")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 如果不在0.0和1.0之间，则会使用默认的图片质量")]),t._v("\n"),s("span",{attrs:{class:"token function"}},[t._v("toDataURL")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("args"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 返回Blob对象，表示包含在该canvas中的图片文件，type没有指定参数，默认使用image/png")]),t._v("\n"),s("span",{attrs:{class:"token function"}},[t._v("toBlob")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("args"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// e.g.")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("test")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" canvas "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'canvas'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    canvas"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("toBlob")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("blob"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" newImg "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("createElement")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'img'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        \turl "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token constant"}},[t._v("URL")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("createObjectURL")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("blob"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        newImg"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{attrs:{class:"token constant"}},[t._v("URL")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("revokeObjectURL")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        newImg"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" url"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        document"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newImg"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"canvasrenderingcontext2d"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#canvasrenderingcontext2d","aria-hidden":"true"}},[this._v("#")]),this._v(" CanvasRenderingContext2D")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("该接口提供的2D渲染背景用来绘制"),a("canvas",[this._v("元素，需要在"),a("canvas",[this._v('上调用getContext()，并提供"2d"的参数：')])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" canvas "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'tutorial'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ctx "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" canvas"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getContext")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'2d'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h4",{attrs:{id:"填充和描边样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#填充和描边样式","aria-hidden":"true"}},[this._v("#")]),this._v(" 填充和描边样式")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h4",{attrs:{id:"绘制图像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#绘制图像","aria-hidden":"true"}},[this._v("#")]),this._v(" 绘制图像")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("drawImage")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("image"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dx"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dy"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("drawImage")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("image"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dx"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dy"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dWidth"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dHeight"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("drawImage")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("image"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sx"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sy"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sWidth"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sHeight"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dx"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dy"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dWidth"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dHeight"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("img",{attrs:{src:"http://reyshieh.com/assets/canvas_drawImage.png",alt:"canvas_drawImage"}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("h4",{attrs:{id:"像素控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#像素控制","aria-hidden":"true"}},[this._v("#")]),this._v(" 像素控制")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("createImageData")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("width"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("createImageData")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imageData"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 从现有的ImageData对象复制一个和其宽度和高度相同的对象。图像自身不允许被复制")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getImageData")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sx"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sy"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sw"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sh"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// sx 被提取图像数据矩形区域的左上角x坐标")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// sy 被提取图像数据矩形区域的左上角y坐标")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// sw 被提取的图像数据矩形区域的宽度")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// sh 被提取的图像数据矩形区域的高度")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("putImageData")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imagedata"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dx"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dy"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("putImageData")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imagedata"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dx"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dy"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dirtyX"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dirtyY"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dirtyWidth"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dirtyHeight"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// imagedata 包含像素值的数组对象")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// dx 源图像数据在目标画布中的位置偏移量(x轴方向的偏移量)")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// dy 源图像数据在目标画布中的位置偏移量(y轴方向的偏移量)")]),t._v("\n\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"imagedata"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#imagedata","aria-hidden":"true"}},[this._v("#")]),this._v(" ImageData")])},function(){var t=this.$createElement,a=this._self._c||t;return a("blockquote",[a("p",[this._v("可以使用该属性，去除、填充背景等应用")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// 属性")]),t._v("\nImageData"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data "),s("span",{attrs:{class:"token comment"}},[t._v("// Uint8ClampedArray描述了一个以RGBA顺序数据的一维数组，数据使用0至255的整数")]),t._v("\nImageData"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height "),s("span",{attrs:{class:"token comment"}},[t._v("// 使用像素描述ImageData的实际高度")]),t._v("\nImageData"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width "),s("span",{attrs:{class:"token comment"}},[t._v("// 使用像素描述ImageData的实际宽度")]),t._v("\n")])])])}],!1,null,null,null);e.options.__file="Damn-hole-of-html5.md";a.default=e.exports}}]);