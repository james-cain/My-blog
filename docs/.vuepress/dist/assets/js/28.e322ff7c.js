(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{167:function(t,e,s){"use strict";s.r(e);var r=s(0),a=Object(r.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),s("p",[t._v("同源策略是Web应用程序的一种安全模型，控制了网页中DOM之间的访问。SOP影响范围包括：普通的HTTP请求、XMLHttpRequest、XSLT、XBL")]),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("给定一个页面，如果另外一个页面使用的协议、端口、主机名都相同，则认为两个页面具有相同的源。例如：")]),t._v(" "),s("p",[t._v("目标页面http://sub.eth.space/level/flower.html")]),t._v(" "),t._m(4),t._v(" "),s("p",[t._v("**同源策略没有禁止脚本的执行，而是禁止读取HTTP回复。**SOP其实在防止CSRF上作用非常有限，CSRF的请求往往在发送出去的瞬间就已经达到攻击的目的，比如发送一段敏感数据，或请求一个具体的功能。一般静态资源通常不受同源策略限制，如js/css/jpg/png等")]),t._v(" "),t._m(5),t._v(" "),s("p",[t._v("分为三种类型：反射型，存储型，DOM-based")]),t._v(" "),t._m(6),t._v(" "),s("p",[t._v("转义输入输出的内容，对于引号，尖括号，斜杠转义")]),t._v(" "),t._m(7),s("p",[t._v("对于显示富文本来说，通常采用白名单过滤的办法"),s("a",{attrs:{href:"https://github.com/leizongmin/js-xss",target:"_blank",rel:"noopener noreferrer"}},[t._v(" js-xss"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("CSP 内容安全策略")]),t._v(" "),s("p",[t._v("CSP是一个额外的安全层，用于检测并削弱某些特定类型的攻击，包括跨站脚本（XSS）和数据注入攻击等。无论是数据盗取、网站内容污染还是散发恶意软件")]),t._v(" "),s("p",[t._v("CSP本质是建立白名单，规定浏览器只能执行特定来源的代码")]),t._v(" "),s("p",[t._v("通常可以通过HTTP header中的Content-Security-Policy来开启CSP")]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),s("p",[t._v("是一种挟制用户在当前已登录的Web应用程序上执行非本意的操作的攻击方式。其实就是利用用户的登录态发起的恶意请求")]),t._v(" "),t._m(10),t._v(" "),s("p",[t._v("遵循几种规则：")]),t._v(" "),t._m(11),t._v(" "),s("p",[t._v("SameSite")]),t._v(" "),t._m(12),t._v(" "),s("p",[t._v("验证Referer")]),t._v(" "),t._m(13),t._v(" "),s("p",[t._v("Token")]),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),s("p",[t._v("通常需要对密码加盐，再进行几次不同加密算法的加密")]),t._v(" "),t._m(16)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"网络安全"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网络安全","aria-hidden":"true"}},[this._v("#")]),this._v(" 网络安全")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"burp-suite"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#burp-suite","aria-hidden":"true"}},[this._v("#")]),this._v(" Burp Suite")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"同源策略（same-origin-policy，sop）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#同源策略（same-origin-policy，sop）","aria-hidden":"true"}},[this._v("#")]),this._v(" 同源策略（Same Origin Policy，SOP）")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"如何判断同源？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何判断同源？","aria-hidden":"true"}},[this._v("#")]),this._v(" 如何判断同源？")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("是否同源")]),t._v(" "),s("th",[t._v("URI")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("同源")]),t._v(" "),s("td",[t._v("http://sub.eth.space/level2/fruit.html")])]),t._v(" "),s("tr",[s("td",[t._v("同源")]),t._v(" "),s("td",[t._v("http://sub.eth.space:80/level/anotherlevel/fruit.html")])]),t._v(" "),s("tr",[s("td",[t._v("不同源")]),t._v(" "),s("td",[t._v("https://sub.eth.space/level/flower.html")])]),t._v(" "),s("tr",[s("td",[t._v("不同源")]),t._v(" "),s("td",[t._v("http://sub.eth.space:81/level/flower.html")])]),t._v(" "),s("tr",[s("td",[t._v("不同源")]),t._v(" "),s("td",[t._v("http://mania.eth.space/level3/flower.html")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("同源")])]),t._v(" "),s("td",[t._v("http://red.sub.eth.space/level3/flower.html")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"xss-cross-site-scripting-跨站点指令码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xss-cross-site-scripting-跨站点指令码","aria-hidden":"true"}},[this._v("#")]),this._v(" XSS(Cross site scripting)跨站点指令码")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"如何防御"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何防御","aria-hidden":"true"}},[this._v("#")]),this._v(" 如何防御")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("& -> &amp;\n< -> &lt;\n> -> &gt;\n\" -> &quto;\n' -> &##39;\n` -> &##96;\n\\/ -> &##x2F;\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("p",[t._v("只允许加载本站资源")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Content-Security-Policy: default-src 'self'\n")])])])]),t._v(" "),s("li",[s("p",[t._v("只允许加载HTTPS协议图片")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Content-Security-Policy: img-src https://*\n")])])])]),t._v(" "),s("li",[s("p",[t._v("允许加载任何来源框架")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Content-Security-Policy: child-src 'none'\n")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"csrf-xsrf-cross-site-request-forgery-跨站请求伪造"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#csrf-xsrf-cross-site-request-forgery-跨站请求伪造","aria-hidden":"true"}},[this._v("#")]),this._v(" CSRF/XSRF(Cross-site request forgery)跨站请求伪造")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"如何防御-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何防御-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 如何防御")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Get请求不对数据进行修改")]),this._v(" "),e("li",[this._v("不让第三方网站访问到用户Cookie")]),this._v(" "),e("li",[this._v("阻止第三方网站请求接口")]),this._v(" "),e("li",[this._v("请求时附带验证信息，比如验证码或者token")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("可以对Cookie设置SameSite属性。该属性设置Cookie不随跨域请求发送，该属性可以很大程度减少CSRF的攻击，但不是所有浏览器都兼容")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("对于需要防范CSRF的请求，我们可以通过验证Referer来判断该请求是否为第三方网站发起的")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"密码安全"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#密码安全","aria-hidden":"true"}},[this._v("#")]),this._v(" 密码安全")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"加盐"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#加盐","aria-hidden":"true"}},[this._v("#")]),this._v(" 加盐")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("// 加盐也就是给原密码添加字符串，增加原密码长度\nsha256(sha1(md5(salt + password+ salt)))\n")])])])}],!1,null,null,null);a.options.__file="Damn-hole-of-safe-and-hacker.md";e.default=a.exports}}]);