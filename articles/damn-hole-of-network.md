## damn hole of network

### UDP

**面向报文**

UDP是一个面向报文的协议。即只是报文的搬运工，不会对报文进行任何拆分和拼接操作

- 在发送端，应用层将数据传递给传输层的 UDP 协议，UDP 只会给数据增加一个 UDP 头标识下是 UDP 协议，然后就传递给网络层了
- 在接收端，网络层将数据传递给传输层，UDP 只去除 IP 报文头就传递给应用层，不会任何拼接操作

**不可靠性**

1. 无连接的，通信是不需要建立和断开连接
2. 不可靠的，协议收到什么数据就传递什么数据，不关系对方是否能收到
3. 没有拥塞控制，一直会以恒定的速度发送数据。弊端在网络条件不好的情况下会导致丢包，好处对实时性要求高的场景（比如电话会议）使用更好

**高效**

UDP没有TCP复杂，不需要保证数据不丢失且有序到达。所以UDP的头部开销小，只有八个字节，在传输数据报文时是高效的

头部包含以下几个数据

- 两个十六位的端口号，分别为源端口Source port（可选字段）和目标端口Destination port
- 整个数据报文的长度Length
- 整个数据报文的检验和（IPV4可选字段），该字段用于发现头部信息和数据中的数据

传输方式

支持一对一，一对多，多对多，多对一，即支持单播，多播，广播的功能

### TCP

